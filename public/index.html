<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Terrazzo - Agenda Piscina & Deck</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="logo.png" type="image/png" />

  <!-- Meta tags para compartilhamento -->
  <meta property="og:title" content="Agendamento para usar a Piscina & Deck">
  <meta property="og:description" content="Ultilize do espaço com responsabilidade e siga as regras">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://i.imgur.com/6PBvhpq.png">
</head>
<body>
  <header>
    <img src="header.png" alt="Imagem do cabeçalho">
  </header>

  <main>
    <!-- Navegação entre meses -->
    <div class="cabecalho-calendario">
      <button id="btnAnterior">←</button>
      <h2 id="mesAtual">Mês</h2>
      <button id="btnProximo">→</button>
    </div>

    <!-- Calendário gerado pelo JS -->
    <section id="calendar"></section>

    <!-- Regras -->
    <section id="rules">
      <h2>Regras de Uso do Deck e Piscina</h2>
      <ul>
        <li>1. Não levar Comida e Bebida para a área da Piscina nem para dentro da mesma.</li>
        <li>2. Não usar produtos quimicos como (Shampoo, Condicionador, Sabonete e etc...) ao entrar na piscina.</li>
        <li>3. Horário de permanência na área do Deck e Piscina até as 22h00 (Ao anoitecer Manter as Luzes Acesas).</li>
        <li>4. No término do uso da área de lazer deixa-lá limpa.</li>
        <li>5. Antes de entrar na piscina TOMAR BANHO NO CHUVEIRO (Não usar Jeans ao entrar).</li>
        <li>6. Crianças na piscina devem estar acompanhadas de um adulto.</li>

      </ul>
    </section>
    <section id="comercios">
  <h2>Comércios dos Moradores</h2>

  <!-- Botão para mostrar o formulário -->
  <button id="btnMostrarFormulario">Adicionar Comércio</button>

  <!-- Formulário escondido inicialmente -->
  <form id="formComercio" enctype="multipart/form-data" style="display: none;">
    <h3>Adicionar seu Comércio</h3>

    <input type="text" name="bloco" placeholder="Bloco" required />
    <input type="number" name="apartamento" placeholder="Apartamento" required />
    <input type="text" name="nomeMorador" placeholder="Seu Nome" required />
    <input type="tel" name="telefone" placeholder="Telefone" required />
    <input type="text" name="nomeNegocio" placeholder="Nome do Negócio" required />
    <input type="text" name="tipoNegocio" placeholder="Tipo de Negócio" maxlength="27" required />
    <textarea name="descricao" placeholder="Descrição do negócio" required></textarea>

    <label>Logo do Negócio (opcional):</label>
    <input type="file" name="logo" accept="image/*" />

    <label>Fotos de Mercadorias (opcional):</label>
    <input type="file" name="fotos[]" accept="image/*" multiple />

    <button type="submit">Adicionar</button>
  </form>

  <script>
  const telefoneInput = document.querySelector('input[name="telefone"]');
  const erroTelefone = document.createElement('span');
  erroTelefone.id = "erroTelefone";
  telefoneInput.insertAdjacentElement("afterend", erroTelefone);

  telefoneInput.addEventListener("input", function () {
    let valor = telefoneInput.value.replace(/\D/g, "");

    if (valor.length > 11) valor = valor.slice(0, 11);

    if (valor.length >= 2) {
      valor = `(${valor.slice(0, 2)})${valor.slice(2)}`;
    }

    if (valor.length >= 9) {
      valor = `${valor.slice(0, 9)}-${valor.slice(9)}`;
    }

    telefoneInput.value = valor;

    // Validação
    if (valor.length < 14) {
      erroTelefone.textContent = "Número inválido. Use o formato (99)99999-9999";
      erroTelefone.style.display = "block";
    } else {
      erroTelefone.textContent = "";
      erroTelefone.style.display = "none";
    }
  });

    const apartamentoInput = document.querySelector('input[name="apartamento"]');

apartamentoInput.addEventListener("input", () => {
  apartamentoInput.value = apartamentoInput.value.replace(/\D/g, "").slice(0, 3);

    const campoTexto = document.querySelector('input[name="campoTexto"]');

  campoTexto.addEventListener("input", () => {
    if (campoTexto.value.length > 27) {
      campoTexto.value = campoTexto.value.slice(0, 27);
    }
  });

});

</script>

  <!-- Lista de negócios cadastrados -->
  <div id="listaComercios">
    <h3>Negócios Cadastrados</h3>
    <div class="comercios-container"></div>
  </div>
</section>
  </main>

  <!-- Scripts necessários -->
  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
  <script src="script.js"></script>
</body>
</html>